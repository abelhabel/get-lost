var helpers = require("../../public/helpers.js");
var minerals = require("../../public/minerals.js");
var GameObject = require("../../public/objects/gameobject.js");
var Polygon = require("../../public/objects/polygon.js");
var Square = require("../../public/objects/square.js");
var Circle = require("../../public/objects/circle.js");
var Projectile = require("../../public/objects/projectile.js");
var Star = require("../../public/objects/star.js");
var Guardian = require("../../public/objects/guardian.js");
var Boss = require("../../public/objects/boss.js");

Boss.prototype = new Polygon();


var Bosses = {
  glowFace: function(x, y) {
    var output = [];
    var scale = 0.5;
    var leftEye = new Circle(x - 100 * scale, y - 100 * scale, 50 * scale);
    var rightEye = new Circle(x + 100 * scale, y - 100 * scale, 50 * scale);
    leftEye.fill = rightEye.fill = true;
    leftEye.fillStyle = rightEye.fillStyle = "rgb(255, 0, 0)";

    var boss = new Boss(x, y, 300 * scale, "Glow Face");
    output.push(boss, leftEye, rightEye);

    leftEye.follow = rightEye.follow = boss;
    leftEye.followDistanceX = -100 * scale;
    leftEye.followDistanceY = -100 * scale;
    rightEye.followDistanceX = 100 * scale;
    rightEye.followDistanceY = -100 * scale;
    leftEye.followPattern = rightEye.followPattern = 'normal';

    leftEye.currentHP =
    leftEye.maxHP =
    rightEye.currentHP = 
    rightEye.maxHP = 1;
    leftEye.checkCollision = rightEye.checkCollision = true;

    leftEye.team = rightEye.team = boss.id;

    boss.fill = true;
    boss.fillStyle = "rgba(40, 180, 59, 0.5)";
    boss.points = 6;
    boss.rotationSpeed = 0.01;
    boss.checkCollision = true;
    boss.currentHP = boss.maxHP = 50;
    var guardian;
    for(var i = 0; i < boss.points; i += 1) {
      guardian = new Guardian(x, y, boss);
      guardian.follow = boss;
      guardian.followDistanceX = guardian.followDistanceY = boss.r + 50;
      guardian.followRotation = i * Math.PI * 2 / (boss.points)
      guardian.followRotationSpeed = 0.02;
      guardian.followPattern = "circle";
      guardian.currentHP = guardian.maxHP = 10;
      guardian.r = 50 * scale; 
      guardian.points = 6;
      guardian.animate = true;
      guardian.projectileSpeed = 4;
      output.push(guardian);
      // boss.followers.push(guardian);

    }


    return output;
  }
};

module.exports = Bosses;